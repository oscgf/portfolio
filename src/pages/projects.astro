---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import SectionContainer from '../components/SectionContainer.astro';

import { getCollection } from 'astro:content';
const allProjects = await getCollection('projects', ({ data }) => {
    return !data.draft;
});
---


<Layout title="Ã“scar GonzÃ¡lez Fresno - Projects">
	<main class="w-full p-4 md:p-6 lg:p-8">
		<SectionContainer id="projects" title="Projects">
			<ol class="grid grid-cols-1 md:grid-cols-2 md:gap-2 mx-5 my-5 justify-center">
				{allProjects.map((project) => (
				<li class="mb-10 p-4 w-full flex">
					<Card
						title={project.data.title}
						summary={project.data.summary}
						description={project.data.description}
						slug={project.slug}
						src={project.data.image.src}
						alt={project.data.image.alt}
						draft={project.data.draft}
						tags={project.data.tags}
					/>
				</li>
				))}
			</ol>
		</SectionContainer>
	</main>
</Layout>